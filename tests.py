from main import ModularHomeBuilder, Wall


temp = ModularHomeBuilder()

# TEST 1
# *
# *
temp.temp_tochki = [(445.725, 145.175), (445.725, 120.825), (506.275, 120.825), (506.275, 145.175), (445.725, 169.525), (445.725, 145.175), (506.275, 145.175), (506.275, 169.525)]
temp.temp_sides = [((445.725, 145.175), (445.725, 120.825)), ((445.725, 120.825), (506.275, 120.825)), ((506.275, 145.175), (506.275, 120.825)), ((445.725, 145.175), (506.275, 145.175)), ((445.725, 169.525), (445.725, 145.175)), ((445.725, 145.175), (506.275, 145.175)), ((506.275, 169.525), (506.275, 145.175)), ((445.725, 169.525), (506.275, 169.525))]
temp.calculate_free_sides()
temp.calculate_internal_sides()
s = temp.calculate_and_display_results()

if s != """Узлы: {4: 0, 3: 0, 2: 2, 1: 4}
Короткие соединения: 0
Длинные соединения: 1
Кол-во блоков: 2
(True, True, 2, True)
(True, False, 1, True)
(True, True, 2, True)
(True, False, 1, True)
""":
    print("ERROR! TEST1")
    print(s)
else:
    print("TEST1 COMPLETED")


# TEST2
# * * *
#   *
temp = ModularHomeBuilder()
temp.temp_tochki = [(309.725, 181.175), (309.725, 156.825), (370.275, 156.825), (370.275, 181.175), (370.275, 181.175), (370.275, 156.825), (430.825, 156.825), (430.825, 181.175), (430.825, 181.175), (430.825, 156.825), (491.375, 156.825), (491.375, 181.175), (370.275, 205.525), (370.275, 181.175), (430.825, 181.175), (430.825, 205.525)]
temp.temp_sides = [((309.725, 181.175), (309.725, 156.825)), ((309.725, 156.825), (370.275, 156.825)), ((370.275, 181.175), (370.275, 156.825)), ((309.725, 181.175), (370.275, 181.175)), ((370.275, 181.175), (370.275, 156.825)), ((370.275, 156.825), (430.825, 156.825)), ((430.825, 181.175), (430.825, 156.825)), ((370.275, 181.175), (430.825, 181.175)), ((430.825, 181.175), (430.825, 156.825)), ((430.825, 156.825), (491.375, 156.825)), ((491.375, 181.175), (491.375, 156.825)), ((430.825, 181.175), (491.375, 181.175)), ((370.275, 205.525), (370.275, 181.175)), ((370.275, 181.175), (430.825, 181.175)), ((430.825, 205.525), (430.825, 181.175)), ((370.275, 205.525), (430.825, 205.525))]
temp.calculate_free_sides()
temp.calculate_internal_sides()
s = temp.calculate_and_display_results()
result_s = """Узлы: {4: 0, 3: 2, 2: 2, 1: 6}
Короткие соединения: 2
Длинные соединения: 1
Кол-во блоков: 4
(True, True, 1, True)
(True, False, 1, False)
(False, True, 1, True)
(True, False, 1, True)
(True, True, 1, False)
(False, False, 1, True)
(True, True, 1, True)
(True, False, 3, True)
"""

if s != result_s:
    print("EXPECTED:", result_s)
    print("GOTTEN: ", s)
else:
    print("TEST2 COMPLETED")



# TEST3
# * *
#   * *
temp = ModularHomeBuilder()
temp.temp_tochki =  [(404.725, 121.175), (404.725, 96.825), (465.275, 96.825), (465.275, 121.175), (465.275, 121.175), (465.275, 96.825), (525.825, 96.825), (525.825, 121.175), (465.275, 145.525), (465.275, 121.175), (525.825, 121.175), (525.825, 145.525), (525.825, 145.525), (525.825, 121.175), (586.375, 121.175), (586.375, 145.525)]
temp.temp_sides =  [((404.725, 121.175), (404.725, 96.825)), ((404.725, 96.825), (465.275, 96.825)), ((465.275, 121.175), (465.275, 96.825)), ((404.725, 121.175), (465.275, 121.175)), ((465.275, 121.175), (465.275, 96.825)), ((465.275, 96.825), (525.825, 96.825)), ((525.825, 121.175), (525.825, 96.825)), ((465.275, 121.175), (525.825, 121.175)), ((465.275, 145.525), (465.275, 121.175)), ((465.275, 121.175), (525.825, 121.175)), ((525.825, 145.525), (525.825, 121.175)), ((465.275, 145.525), (525.825, 145.525)), ((525.825, 145.525), (525.825, 121.175)), ((525.825, 121.175), (586.375, 121.175)), ((586.375, 145.525), (586.375, 121.175)), ((525.825, 145.525), (586.375, 145.525))]
temp.calculate_free_sides()
temp.calculate_internal_sides()
s = temp.calculate_and_display_results()
result_s = """Узлы: {4: 0, 3: 2, 2: 2, 1: 6}
Короткие соединения: 2
Длинные соединения: 1
Кол-во блоков: 4
(True, True, 1, True)
(True, False, 1, False)
(False, True, 1, True)
(True, False, 2, True)
(True, True, 1, True)
(True, False, 1, False)
(False, True, 1, True)
(True, False, 2, True)
"""

if s != result_s:
    print("EXPECTED:", result_s)
    print("GOTTEN: ", s)
else:
    print("TEST2 COMPLETED")

